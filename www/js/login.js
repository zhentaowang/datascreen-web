/*! longteng (c) 2016 
	Author: Renzhao
*/
var vm=new Vue({el:"body",data:{username:"",password:"",message:"",errorShow:!1,flag:!1},methods:{login:function(){return vm.username?vm.password?void(vm.flag||(vm.flag=!0,$.ajax({url:server+"login",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({username:vm.username,password:vm.password}),dataType:"json",success:function(e){1===e.status?(vm.message=e.display_message,vm.errorShow=!0):(User.login(e),cacheData.set("user_role",e.role_id),document.location.href="/"),vm.flag=!1}}))):(vm.errorShow=!0,void(vm.message="请输入密码")):(vm.errorShow=!0,void(vm.message="请输入用户名"))}}});